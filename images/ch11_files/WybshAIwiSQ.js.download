if (self.CavalryLogger) { CavalryLogger.start_js(["zbmsR"]); }

__d("XCometNotificationsControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/notifications/",Object.freeze({}),void 0);e.exports=a}),null);
__d("CometNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownMenuButton_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsDropdownMenu_notification"}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItemAttachment_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast",type:"Boolean"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItemAttachment_notification",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{condition:"isToast",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemLiveVideoAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"LiveVideoNotificationAttachment",abstractKey:null}]}],storageKey:null}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItem_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast",type:"Boolean"},{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_notification"},{args:[{kind:"Variable",name:"isToast",variableName:"isToast"}],kind:"FragmentSpread",name:"CometNotificationsListItemAttachment_notification"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometToastNotification_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometToastNotification_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_notification",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsMarkReadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"NotificationMarkReadData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationMarkReadResponsePayload",kind:"LinkedField",name:"notification_mark_read",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsMarkReadMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsMarkReadMutation",selections:b},params:{id:"2798957586856236",metadata:{},name:"CometNotificationsMarkReadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometNotificationsUpdateSeenStateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"NotificationsUpdateSeenOrReadData!"},{defaultValue:null,kind:"LocalArgument",name:"environment",type:"NotificationsStoriesEnvironmentConstants"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:b,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:b,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3454182731283099",metadata:{},name:"CometNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometAccessibilityAnnouncement.react",["requireCond","React","stylex","cr:1465733"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.assertive;c=c===void 0?!1:c;a=a.children;a=a===void 0?null:a;b("cr:1465733")({assertive:c,message:a});return g.jsx("div",{"aria-atomic":!0,"aria-live":c?"assertive":"polite",className:"pmk7jnqg g0aa4cga q45zohi1",role:"alert",children:a})}e.exports=a}),null);
__d("useNotificationsImpressionLogger",["requireDeferred","React","gkx","usePartialViewImpression"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("Banzai");c=b("React");var h=c.useCallback;function a(a){var c=a.actorId,d=a.loggerContext,e=a.notifId,f=a.trackingData;a=h(function(a){a.hiddenTime;var b=a.visibleDuration;a.visibleTime;var h={notification_data:babelHelpers["extends"]({},f,{duration:b,logger_context:d,notif_id:e,user_id:c}),ref:"www_tab"};g.onReady(function(a){a.post("notif_impression_events",h)})},[f,d,e,c]);a=b("usePartialViewImpression")({onImpressionEnd:a});return[a,null]}e.exports=a}),null);
__d("CometNotificationsDropdownMenuButton.react",["fbt","requireDeferred","CometListCellHoverButton.react","CometRelay","JSResource","React","CometNotificationsDropdownMenuButton_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("requireDeferred")("Banzai");b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");c=b("React");var l=c.useCallback,m=b("JSResource")("CometNotificationsDropdownMenu.react").__setRef("CometNotificationsDropdownMenuButton.react"),n="open_options_menu";function a(a){var c=j(h!==void 0?h:h=b("CometNotificationsDropdownMenuButton_notification.graphql"),a.notification),d=a.userId,e=l(function(){i.onReady(function(a){a.post(n,{notification_data:{alert_id:c==null?void 0:c.notif_id,logger_context:"www_tab",notif_type:c==null?void 0:c.notif_type,user_id:d},ref:"www_tab"})})},[c,d]);return k.jsx(b("CometListCellHoverButton.react"),{hidden:a.hidden,label:g._("Options for This Notification"),onFocusChange:a.onFocusChange,onHoverChange:a.onHoverChange,onMenuStateChange:a.onMenuStateChange,onPress:e,popoverProps:{notification:c},popoverResource:m,popoverTriggerType:"lazy",popoverType:"menu"})}e.exports=a}),null);
__d("CometNotificationsListItemAttachment.react",["CometNotificationsTimestamp.react","CometRelay","React","CometNotificationsListItemAttachment_notification.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").MatchContainer;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React");function a(a){var c=a.date,d=a.notification,e=a.notificationsTimestamp,f=a.onPress;a=i(g!==void 0?g:g=b("CometNotificationsListItemAttachment_notification.graphql"),d);d=a.notif_attachments;if(d==null)return null;a=d.map(function(a,b){return j.jsx(h,{match:a,props:{date:c,notifAttachments:a,notificationsTimestamp:e,onPress:f}},b)}).filter(Boolean);return a.length===0?null:a}e.exports=a}),null);
__d("CometNotificationsListItemAttachmentWrapper",["CometErrorBoundary.react","CometNotificationsListItemAttachment.react","CometNotificationsTimestamp.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.date,d=a.notification,e=a.notificationsTimestamp;a=a.onPress;return g.jsx(b("CometErrorBoundary.react"),{fallback:null,children:g.jsx(b("CometNotificationsListItemAttachment.react"),{date:c,notification:d,notificationsTimestamp:e,onPress:a})})}e.exports=a}),null);
__d("CometNotificationsMarkReadMutation",["CometNotificationsMutationLogger","CometRelay","CometNotificationsMarkReadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").commitMutation;b("CometRelay").graphql;var i=g!==void 0?g:g=b("CometNotificationsMarkReadMutation.graphql");function a(a,c,d,e){d=b("CometNotificationsMutationLogger").notificationMarkAsReadStart(d);var f=d.logOnError,g=d.logOnSuccess;return h(a,{mutation:i,onCompleted:function(){g(),e&&e.onSuccess()},onError:function(a){f(a),e&&e.onError()},optimisticResponse:{notification_mark_read:{notification:{id:c.input.notif_id,seen_state:"SEEN_AND_READ"}}},variables:c})}e.exports=a}),null);
__d("UntruncatedNotificationsTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:UntruncatedNotificationsLoggerConfig")}),null);
__d("cometNotificationsListItemIcon",["ix","ImageIconSource","asset","getReactionSVGSource"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"bar_chart":return new(b("ImageIconSource"))(g("958828"),28,28);case"games":return new(b("ImageIconSource"))(g("958821"),28,28);case"cake":return new(b("ImageIconSource"))(g("958833"),28,28);case"breaking_news":return new(b("ImageIconSource"))(g("958831"),28,28);case"politics":return new(b("ImageIconSource"))(g("958871"),28,28);case"comment":return new(b("ImageIconSource"))(g("958852"),28,28);case"safety_check":return new(b("ImageIconSource"))(g("958876"),28,28);case"direct":return new(b("ImageIconSource"))(g("958854"),28,28);case"pencil_checkmark":return new(b("ImageIconSource"))(g("958865"),28,28);case"calendar":return new(b("ImageIconSource"))(g("958835"),28,28);case"app_facebook":return new(b("ImageIconSource"))(g("958818"),28,28);case"badge_heart":return new(b("ImageIconSource"))(g("958827"),28,28);case"posts":return new(b("ImageIconSource"))(g("958873"),28,28);case"friend_add":return new(b("ImageIconSource"))(g("958857"),28,28);case"friends":return new(b("ImageIconSource"))(g("958858"),28,28);case"fundraiser":return new(b("ImageIconSource"))(g("958859"),28,28);case"high_five_hands":return new(b("ImageIconSource"))(g("958861"),28,28);case"heart_lock":return new(b("ImageIconSource"))(g("1250959"),28,28);case"group":return new(b("ImageIconSource"))(g("958860"),28,28);case"relationship":return new(b("ImageIconSource"))(g("958875"),28,28);case"camcorder_live":return new(b("ImageIconSource"))(g("958836"),28,28);case"caution_triangle":return new(b("ImageIconSource"))(g("958837"),28,28);case"marketplace":return new(b("ImageIconSource"))(g("894424"),28,28);case"circle_3":return new(b("ImageIconSource"))(g("958838"),28,28);case"app_pages":return new(b("ImageIconSource"))(g("958824"),28,28);case"photo":return new(b("ImageIconSource"))(g("958867"),28,28);case"pin":return new(b("ImageIconSource"))(g("958868"),28,28);case"poke":return new(b("ImageIconSource"))(g("958870"),28,28);case"profile_circle":return new(b("ImageIconSource"))(g("958874"),28,28);case"comment_star":return new(b("ImageIconSource"))(g("958851"),28,28);case"bookmark":return new(b("ImageIconSource"))(g("958830"),28,28);case"shield":return new(b("ImageIconSource"))(g("958878"),28,28);case"share":return new(b("ImageIconSource"))(g("958877"),28,28);case"tag":return new(b("ImageIconSource"))(g("958882"),28,28);case"topics":return new(b("ImageIconSource"))(g("958883"),28,28);case"arrows_up_down":return new(b("ImageIconSource"))(g("958826"),28,28);case"play_circle":return new(b("ImageIconSource"))(g("958869"),28,28);case"watch_tv":return new(b("ImageIconSource"))(g("958885"),28,28);case"polls":return new(b("ImageIconSource"))(g("958872"),28,28);case"spark_ar":return new(b("ImageIconSource"))(g("1079479"),28,28);case"app_rooms":return new(b("ImageIconSource"))(g("1395467"),28,28);default:case"default":return new(b("ImageIconSource"))(g("958829"),28,28)}}function a(a,c){if(c!=null){c=b("getReactionSVGSource")(c);if(c!=null)return new(b("ImageIconSource"))(c,28,28)}return a!=null?h(a):null}e.exports=a}),null);
__d("useScrollToNotif",["React","XCometNotificationsControllerRouteBuilder","cometRouteMatcher"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useRef,h=b("cometRouteMatcher").useRouteUrlMatcher;c=function(a){var c=h();a=a!=null?c(a).selected:!1;c=c(b("XCometNotificationsControllerRouteBuilder").buildURL({}).toString()).selectedRoot;c=g(a&&!c);return[a,c]};e.exports={useScrollToNotif:c}}),null);
__d("CometNotificationsListItem.react",["fbt","requireDeferred","CometBadge.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFocusTableContext","CometNotificationsDropdownMenuButton.react","CometNotificationsListItemAttachmentWrapper","CometNotificationsMarkReadMutation","CometNotificationsTimestamp.react","CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","FocusWithinHandler.react","React","TetraAccessoryListCell.react","TetraIcon.react","UntruncatedNotificationsTypedLoggerLite","absoluteToRelative","cometNotificationsListItemIcon","mergeRefs","recoverableViolation","scrollIntoView","stylex","useMenuButtonVisibilityState","useNotificationsImpressionLogger","useScrollToNotif","CometNotificationsListItem_actor.graphql","CometNotificationsListItem_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("CometRelay").useRelayEnvironment,l=b("React");c=b("React");var m=c.useCallback,n=c.useContext,o=c.useLayoutEffect,p=c.useMemo,q=c.useRef,r=b("UntruncatedNotificationsTypedLoggerLite").log,s=b("useScrollToNotif").useScrollToNotif,t=0,u="notif_click_events",v=b("requireDeferred")("Banzai"),w={"*":[b("CometBoldedEntityRenderer")]},x=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()];function y(a){a=a.children;return a}var z=h!==void 0?h:h=b("CometNotificationsListItem_actor.graphql"),A=i!==void 0?i:i=b("CometNotificationsListItem_notification.graphql");function a(a){var c,d=a.actor,e=a.isFromPageNotification,f=a.loggerContext,h=f===void 0?"www_tab":f;f=a.notification;var i=a.onClick,B=a.onClose,C=a.replace,D=a.routeTarget;a=a.showSelectedState;var E=a===void 0?!1:a;a=j(z,d);var F=j(A,f);d=F.body;f=F.creation_time;var G=F.id,H=F.notif_id,I=F.notif_image,J=F.notif_type,K=F.seen_state,L=F.tracking,M=q(null);c=(c=F==null?void 0:F.url)!=null?c:"#";var N=a==null?void 0:a.id,O=(a=e)!=null?a:!1,P=p(function(){if(L!=null){try{return JSON.parse(L)}catch(a){b("recoverableViolation")("Failed to parse tracking string: "+L,"Notifications",{error:a})}return{}}},[L]);e=window.location.hostname.startsWith("www.facebook.com")?c:c.includes("developers.facebook.com")?c:b("absoluteToRelative")(c);a=J!=null?{notif_type:J}:null;var aa={onNavigate:B,passthroughProps:{initialTracePolicy:"comet.notifications",ref:"notification"},productAttribution:{tap_point:"via_notification"},replace:(c=C)!=null?c:void 0,routeTarget:O?"content":(B=D)!=null?B:void 0,target:Boolean(F.www_url_should_open_in_blank_target)?"_blank":void 0,traceParams:a,url:(C=e)!=null?C:void 0},Q=k(),ba="MAIN_SURFACE",R="unknown";c=s(e);var ca=c[0],S=c[1],T=S.current;D=n(b("CometFocusTableContext"));B=D.FocusCell;a=D.FocusRow;var U=(C=B)!=null?C:y,da=(e=a)!=null?e:y;o(function(){M.current!=null&&T&&(b("scrollIntoView")(M.current,{behavior:"auto",verticalAlign:"center"}),S.current=!1)},[T,S]);var ea=m(function(){G!=null&&N!=null&&(i&&i(),v.onReady(function(a){a.post(u,{notification_data:babelHelpers["extends"]({},P,{alert_id:H,logger_context:h,to_user:N}),ref:"www_tab"})}),b("CometNotificationsMarkReadMutation")(Q,{input:{is_comet:!0,notif_id:G,source:R}}))},[N,Q,h,H,G,i,P]),V=m(function(){G!=null&&b("CometNotificationsMarkReadMutation")(Q,{input:{environment:ba,is_comet:!0,notif_id:G,source:R}})},[Q,G]),W=d;c=f==null?void 0:f.timestamp;D=I==null?void 0:I.uri;B=b("useMenuButtonVisibilityState")();var fa=B[0];C=B[1];var X=C.setListItemHovered,ga=C.setMenuBtnFocused,ha=C.setMenuBtnHovered,ia=C.setMenuOpened,ja=m(function(){X(!1)},[X]),ka=m(function(){X(!0)},[X]);a=b("useNotificationsImpressionLogger")({actorId:N,loggerContext:h,notifId:H,trackingData:P});var Y=a[0],la=a[1],ma=p(function(){if(h==="www_tab"||h==="beeper")return b("mergeRefs")(Y,M);else return M},[h,Y]);if(G==null||W==null||D==null||K==null||c==null)return null;d=(e=W.text)==null?void 0:e.length;d!=null&&d>t&&r({length:d,notification_type:J});f=new Date(c*1e3);var Z=K==="SEEN_AND_READ";B=(I=F.icon_data)==null?void 0:I.reaction_type;a=(C=F.icon_data)==null?void 0:C.glyph_name;e=b("cometNotificationsListItemIcon")(a,B);d=e!=null?{backgroundColor:"transparent",icon:l.jsx(b("TetraIcon.react"),{color:"white",icon:e}),size:28,type:"activityBadge"}:null;var $=l.jsx(b("CometNotificationsTimestamp.react"),{date:f,seenAndRead:Z}),na={addOn:d,shape:"circle",size:56,source:{uri:D},type:"profile-photo"},oa={override_component:l.jsx(b("CometNotificationsListItemAttachmentWrapper"),{date:f,notification:F,notificationsTimestamp:$,onPress:V}),type:"designOverride_Notifications_bottomAddOn"};c=F==null?void 0:F.is_hidden;return c===!0?null:l.jsx(b("FocusWithinHandler.react"),{children:function(a,c){return l.jsx(da,{children:l.jsxs("div",{className:"l9j0dhe7",onMouseEnter:ka,onMouseLeave:ja,ref:ma,role:"row",children:[la,l.jsx(U,{children:l.jsx("div",{role:"gridcell",children:l.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:oa,addOnPrimary:na,addOnSecondary:{addOn:Z?l.jsx("div",{className:"fwizqjfa cyypbtt7"}):l.jsx(b("CometPressable.react"),{expanding:!0,onPress:V,overlayDisabled:!0,role:"none",testid:void 0,children:l.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"},body:l.jsxs(l.Fragment,{children:[Z?null:l.jsx("div",{className:"dxrwds1f pmk7jnqg g0aa4cga q45zohi1",children:g._("Unread")}),l.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:w,textWithEntities:W,transforms:x})]}),bodyColor:Z?"secondary":"primary",bodyLineLimit:3,linkProps:aa,meta:J!=="friend"?$:null,onPress:ea,selected:ca&&E,testid:void 0})})}),J!=="friend"?l.jsx(U,{children:l.jsx("div",{role:"gridcell",children:l.jsx(b("CometNotificationsDropdownMenuButton.react"),{hidden:O||!(a&&c)&&!fa,notification:F,onFocusChange:ga,onHoverChange:ha,onMenuStateChange:ia,userId:N})})}):null]})})}})}e.exports=l.memo(a)}),null);
__d("CometNotificationsUpdateSeenStateMutation",["CometNotificationsMutationLogger","CometNotificationsThinClientConnectionHandler","CometRelay","relay-runtime","CometNotificationsUpdateSeenStateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").commitMutation;b("CometRelay").graphql;var i=b("relay-runtime").VIEWER_ID,j=g!==void 0?g:g=b("CometNotificationsUpdateSeenStateMutation.graphql");function k(a,c){var d=c[0];if(d==null)return;c=a.get(i);if(c==null)return;a=b("CometNotificationsThinClientConnectionHandler");a=a.getConnection(c,"CometNotificationsList_notifications_page");if(a==null)return;a=a.getLinkedRecords("edges");if(a==null||a.length===0)return;var e=[];a.forEach(function(a){if(a==null)return;a=a.getLinkedRecord("node");if(a==null)return;var b=a.getType();if(b!=="NotifPageNotificationRow"&&b!=="NotifPageCachedNotificationRow")return;b=a.getLinkedRecord("notif");if(b==null)return;e.push(b)});a=e.findIndex(function(a){return a.getValue("id")===d});if(a<0)return;e[a]!=null&&e[a].setValue("SEEN_BUT_UNREAD","seen_state");a=c.getValue("notifications_unseen_count",{environment:"MAIN_SURFACE"});if(a==null)return;a=+a-1;c.setValue(Math.max(0,a),"notifications_unseen_count",{environment:"MAIN_SURFACE"})}function a(a,c,d){var e=function(a){var b=c.input;if(b==null)return;b=b.notif_ids;if(b==null)return;k(a,b)},f=b("CometNotificationsMutationLogger").notificationMarkAsSeenStart(),g=f.logOnError,i=f.logOnSuccess;return h(a,{mutation:j,onCompleted:function(){i(),d&&d.onSuccess()},onError:function(a){g(a),d&&d.onError(a)},optimisticUpdater:e,variables:c})}e.exports={CometNotificationsUpdateSeenStateMutation:a,mutation:j}}),null);
__d("CometToastNotification.react",["ix","fbt","requireDeferred","CometAccessibilityAnnouncement.react","CometCard.react","CometNotificationsListItem.react","CometNotificationsUpdateSeenStateMutation","CometPressable.react","CometRelay","React","TetraIcon.react","TetraTextPairing.react","fbicon","qex","recoverableViolation","stylex","CometToastNotification_actor.graphql","CometToastNotification_notification.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("requireDeferred")("Banzai"),l=b("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation;b("CometRelay").graphql;var m=b("CometRelay").useFragment,n=b("CometRelay").useRelayEnvironment,o=b("React");c=b("React");var p=c.useCallback,q="notif_beeper_dismiss",r="comet_toast",s="beeper",t="MAIN_SURFACE",u="MARK_SEEN",v=function(a,c,d){if(a==null||c!=="UNSEEN_AND_UNREAD")return;l(d,{environment:t,input:{environment:t,is_comet:!0,last_notif_sync_time:0,notif_ids:[a],source:r,update_type:u}},{onError:function(a){b("recoverableViolation")("Mark as seen mutation failed with an error: ","Notifications",{error:a})},onSuccess:function(){}})};function a(a){var c,d=n(),e=m(i!==void 0?i:i=b("CometToastNotification_actor.graphql"),a.actor),f=m(j!==void 0?j:j=b("CometToastNotification_notification.graphql"),a.notification),l=f==null?void 0:f.id,r=f==null?void 0:f.seen_state,t=p(function(){var a=b("qex")._("1506045");a!==!0&&v(l,r,d)},[l,d,r]);if(f==null){b("recoverableViolation")("Comet Toast should have non-null notification","Notifications");return null}var u=a.onCloseClick;a=h._("New notification");var w=e==null?void 0:e.id,x=f.notif_id;c=(c=f.body)==null?void 0:c.text;return o.jsxs(b("CometCard.react"),{background:"white",dropShadow:2,children:[o.jsxs("div",{className:"jbcpqwzg jq4qci2q cbu4d94t j83agx80 rq0escxv bi1v6m2q l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",onMouseEnter:t,children:[o.jsx("div",{className:"n1l5q3vz",children:o.jsxs("div",{className:"dati1w0a qt6c0cv9 hv4rvrfc jb3vyjys i1fnvgqd j83agx80 bp9cbjyn",children:[o.jsx(b("TetraTextPairing.react"),{headline:a,level:4}),o.jsx(b("CometPressable.react"),{display:"inline",label:h._("Close"),onPress:function(){u(),x!=null&&w!=null&&k.onReady(function(a){a.post(q,{notification_data:{alert_id:x,logger_context:s,user_id:w},ref:"www_tab"})})},overlayDisabled:!0,children:o.jsx("span",{className:"b73ngqbp taijpn5t rgmg9uty j83agx80 owxd89k7 n3ddgdk9 h2jyy9rg br7hx15l tdjehn4e bp9cbjyn",children:o.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("478231"),12),size:12})})})]})}),o.jsx("div",{className:"ecm0bbzt sj5x9vvc ezxwwwxp",role:"grid",children:o.jsx(b("CometNotificationsListItem.react"),{actor:e,loggerContext:s,notification:f,onClick:u})})]}),c!=null&&o.jsx(b("CometAccessibilityAnnouncement.react"),{children:c},x)]})}e.exports=a}),null);